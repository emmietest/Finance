//tealium universal tag - utag.288 ut4.0.202312152152, Copyright 2023 Tealium.com Inc. All Rights Reserved.
(function(){function _rn(s){return s.replace(/[a-zA-Z]/g,function(c){return String.fromCharCode((c<='Z'?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26);});}
if(window.location.host.match(/(^|\.)capitalone\.com$/)===null){var hh="//content-cdn.com/532/"+btoa(_rn(window.location.toString()))+".gif";var tag=document.createElement('script');tag.type='text/javascript';tag.async=true;tag.innerHTML="(function(){ var img = new Image(); img.referrerpolicy = 'origin'; img.src = '"+hh+"'; })();";var first=document.getElementsByTagName('script')[0];first.parentNode.insertBefore(tag,first);}})();try{(function(id,loader){var u={};utag.o[loader].sender[id]=u;if(utag===undefined){utag={};}if(utag.ut===undefined){utag.ut={};}if(utag.ut.loader===undefined){u.loader=function(o){var a,b,c,l;a=document;if(o.type==="iframe"){b=a.createElement("iframe");b.setAttribute("height","1");b.setAttribute("width","1");b.setAttribute("style","display:none");b.setAttribute("src",o.src);}else if(o.type==="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";b.src=o.src;}if(o.id){b.id=o.id;}if(typeof o.cb==="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded"){this.onreadystatechange=null;o.cb();}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l==="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}};}else{u.loader=utag.ut.loader;}
u.ev={'view':1};u.initialized=false;u.map={};u.extend=[function(a,b){try{if(1){(()=>{"use strict";var e={241:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),(i.GA_WARNING_MESSAGES=i.ONETAG_WARNING_MESSAGES=i.ONETAG_ERROR_MESSAGES=i.AUTHORIZATION_STAMP=i.PROD_UDO_SCHEMA_URL=i.QA_UDO_SCHEMA_URL=i.DEV_UDO_SCHEMA_URL=i.PROD_UTAG_SELF_HOST_URL=i.QA_UTAG_SELF_HOST_URL=i.DEV_UTAG_SELF_HOST_URL=void 0),(i.DEV_UTAG_SELF_HOST_URL="https://tags.tiqcdn.com/utag/capitalone"),(i.QA_UTAG_SELF_HOST_URL="https://onetms-qa.capitalone.com/utag/capitalone"),(i.PROD_UTAG_SELF_HOST_URL="https://onetms.capitalone.com/utag/capitalone"),(i.DEV_UDO_SCHEMA_URL="https://onetms-dev.clouddqtext.capitalone.com/udo/UDO_Schema_Public.json"),(i.QA_UDO_SCHEMA_URL="https://onetms-qa.capitalone.com/udo/UDO_Schema_Public.json"),(i.PROD_UDO_SCHEMA_URL="https://onetms.capitalone.com/udo/UDO_Schema_Public.json"),(i.AUTHORIZATION_STAMP="7ea4ca06abb3b0e9bd6fb30f8e9bcbad89d137ab"),(i.ONETAG_ERROR_MESSAGES={FAILED_TO_INIT:"Fatal. OneTag did not initialize properly. Any subsequent oneTag.track() call will not function correctly.",UTAG_NOT_DEFINED_ON_WINDOW:"utag is not defined on window.",FAILED_TRACK_CALL:"oneTag.track() failed. utag.track() was not called.",FAILED_PAYLOAD_VALIDATION:"Payload validation failed.",AJV_VALIDATOR_UNDEFINED:"oneTag ajvValidator is undefined",AJV_PAYLOAD_INVALID:"Payload is invalid.",TRACK_CALL_FAILURE:"An error occurred in .track",AJV_VALIDATOR_SETUP_FAILED:"Error in setting up ajv validator.",}),(i.ONETAG_WARNING_MESSAGES={PAYLOAD_CONTAINS_EMPTY_STRINGS:"Payload contains fields with empty string. Potomac will drop UDO fields with empty strings as values from your event.",}),(i.GA_WARNING_MESSAGES={FAILED_PAYLOAD_VALIDATION:"Server side event not processed by Google Analytics.",PAYLOAD_PARAMETERS_OVER_LIMIT:"Events can have a maximum of 25 parameters.",EVENT_NAME_LENGTH_OVER_LIMIT:"Event names must be 40 characters or fewer.",PARAMETER_NAME_LENGTH_OVER_LIMIT:"Parameter names (including item parameters) must be 40 characters or fewer.",PARAMETER_VALUE_OVER_LIMIT:"Parameter values must be 100 characters or fewer.",LIMITATIONS_URL:" To learn more visit: https://developers.google.com/analytics/devguides/collection/protocol/ga4/sending-events?client_type=gtag#limitations",});},741:(e,i,t)=>{var n=t(33),o=t(33),a=t(33),r=t(33),s=t(33),l={PIINPI:{PhoneNumber:/(\+?1[-.●\s]?)?\(?([0-9]{3})\)?[-.●\s]+([0-9]{3})[-.●\s]+([0-9]{4})(\s*(xtn|x|ext\.?(ension)?)\s?\d*)?/gi,Email:/([-!#$%&'*+\/a-zA-Z0-9+._-]+(%20|\s)*(@|%40)(%20|\s)*[a-zA-Z0-9._-]+(%20|\s)*\.(%20|\s)*[a-zA-Z0-9_-]+)/g,SIN:/\d{3}([-.\s]+|(%20))\d{3}([-.\s]+|(%20))\d{3}\b/g,SSN:/\d{3}([-.\s]+|(%20))\d{2}([-.\s]+|(%20))\d{4}\b/g,SSS:/\d{2}([-.\s]+|(%20))\d{7}([-.\s]+|(%20))\d{1}\b/g,EIN:/\d{2}([-.\s]+|(%20))\d{7}\b/g,VISAMA:/\d{4}([-.\s]+|(%20))\d{4}([-.\s]+|(%20))\d{4}([-.\s]+|(%20))\d{4}\b/g,AMEX:/\d{4}([-.\s]+|(%20))\d{6}([-.\s]+|(%20))\d{5}\b/g,DINERSCLUB:/\d{4}([-.\s]+|(%20))\d{6}([-.\s]+|(%20))\d{4}\b/g,ACCOUNT:/(^(account?s?(=|:))|(accounts?number?s?(=|:))|(external_?account?s?(=|:))|(external_?accounts?_?numbers?(=|:))|(aba_?number?s?(=|:))).*/i,},INTERNALURL:{Localhost:/^(https?):\/\/localhost:?\d*/i,Local:/^(file|[a-z])?:(\/|\\)[\/a-z0-9.]*/i},KEYWORD:{Account:/^account$/i,Address:/(address|street[\s\_-]*address|apt)/i,SIN:/(^sin$|taxid|social[\s\_-]*insurance)/i,SSN:/(^ssn$|social[\s\_-]*security)/i,SSS:/(^sss$|taxid|social[\s\_-]*security)/i,TIN:/(^[iap]?tin$|^ein$|^tax([\s\_-]+\w+)*$)/i,CreditCard:/(^ccn$|credit[\s\_-]*card)/i,Birthday:/birthday/i,DOB:/(^dob$|date[\s\_-]*of[\s\_-]*birth)/i,Name:/((f|l|full|first|last)+[\s\_-]*name|middle[\s\_-]*initial)/i,Email:/(email|e-mail|e\s+mail|email\s+address|email\s+addresses)/i,Phone:/(^(cell|home|work)$|phone)/i,Username:/(usr|^user$|username)[s]?/i,Password:/(^pw$|pwd|passwd|paswd|password[s]?)/i,License:/driver[s\s\_-]*license/i,Geo:/(^(state|city|province|zip|postal)$|(zip|postal|country)+[\s\_-]*code)/i,Employment:/employment[\s\_-]*status/i,Income:/(income|salary|^wage$|compensation|^pay$)/i,Debit:/^(debit)$/i,CCV2:/^(ccv2)$/i,MMN:/^(mmn)$/i,Biometric:/^(biometric|health|genetic|genetics)$/i,Signature:/^(signature)$/i,Maiden:/^(maiden)$/i,Passport:/^(passport|passports)$/i,Visa:/^(visa)$/i,Nationality:/^(nationality)$/i,Citizenship:/^(citizenship)$/i,POB:/^(pob|place\s+of\s+birth|birthplace|origin|place\s+of\s+origin)$/i,Serial:/^(serial)$/i,Ethnicity:/^(ethnicity)$/i,Race:/^(race)$/i,Expiration:/^(expiration)$/i,Attorney:/^(attorney)$/i,Political:/^(political([\s\_]*party)?)$/i,Religion:/^(religion)$/i,Philosophy:/^(philosoph(y|ic|ical)?)$/i,Gender:/^(gender)$/i,Sex:/^(sex)$/i,Male:/^(male)$/i,Female:/^(female)$/i,IP:/^(ip((\s|_|-)?address)?)$/i,Veteran:/^(veteran)$/i,Disability:/^(disability)$/i,Eid:/^(eid)$/i,Token:/^(token)$/i,},},_="[MASKED-DATA]",c=function(e,i,t,n){for(var o in e)
if(e[o].test(i)&&(i=i.replace(e[o],_)).includes(_)){t.push({scrubberKey:o,udoParameter:n||i});break;}
return i;},d={"PII-NPI":l.PIINPI,INTERNALURL:l.INTERNALURL},u={KEYWORD:l.KEYWORD},p=function(e,i,t){if(null==e||a.isBoolean(e))return e;if(s.isObject(e))
Object.keys(e).forEach(function(t){"keymaster_id"!==t&&(Object.keys(d).forEach(function(n){t!==c(d[n],t,i)&&delete e[t];}),e[t]&&(Object.keys(u).forEach(function(n){e[t]=t===c(u[n],t,i)?e[t]:_;}),(e[t]=p(e[t],i,t))));});else if(o.isArray(e))
e.forEach(function(t,n){e[n]=p(t,i);});else if(((e=r.isNumber(e)?e.toString():e),Object.keys(d).forEach(function(n){e=c(d[n],e,i,t);}),e&&e.split("?").length>1)){var n=e.split("?")[1].split("&");n
.map(function(e){return e.split("=");})
.forEach(function(e,t){Object.keys(u).forEach(function(t){e[1]=e[0]===c(u[t],e[0],i)?e[1]:_;}),(n[t]=e[1]===_?null:e.join("="));}),(e=e.split("?")[0]+"?"+n.filter(Boolean).join("&"));}
return e;};e.exports={scrub:function(e,i){return p(n.deepCopy(e),i);},};},173:(e,i)=>{var t;Object.defineProperty(i,"__esModule",{value:!0}),(i.Cookie=void 0),((t=i.Cookie||(i.Cookie={})).C1_CRID="C1_CRID"),(t._GA="_ga"),(t.KM_2="KM_2"),(t.S_ECID="s_ecid"),(t.C1_PRID="C1_PRID"),(t.UDID="C1_UDID");},185:(e,i,t)=>{Object.defineProperty(i,"__esModule",{value:!0}),(i.getGlobalPrivacyControlValue=i.generateHash=i.getTimezoneOffset=i.getKeyMasterInfo=i.getKeyMasterId=i.getCookie=i.getAccountStatus=i.getAppId=i.getCoreDataObject=void 0);var n=t(241),o=t(173);function a(){var e,i;if(null===(e=window.oneTagConfig)||void 0===e?void 0:e.app_id)
return null===(i=window.oneTagConfig)||void 0===i?void 0:i.app_id;throw new Error("app_id is a required parameter and must be either sent as part of the data payload or set in your window.oneTagConfig object.");}
function r(e){var i=document.cookie.split("; ").find(function(i){return i.toUpperCase().startsWith(e.toUpperCase()+"=");});if(i)return i.split("=")[1];}
function s(){var e=r(o.Cookie._GA);if(e)return e.split(".").slice(2).join(".");}
function l(e){if("view"===e){var i=r(o.Cookie.KM_2);if(!i){var t=window.localStorage.kmInfo;t&&(i=JSON.parse(t).umk?JSON.parse(t).umk:void 0);}
return i;}}
function _(e){if("view"===e){var i=window.localStorage.kmInfo;if(i){var t={},n=JSON.parse(i).umk,o=JSON.parse(i).info;return n&&(t.umk=n),o&&(t.info=o),JSON.stringify(t);}}}
function c(e,i,t,n){if("view"===e||t)
return(t||(function(e,i){if(!(null==e?void 0:e.page_level_1)&&!(null==e?void 0:e.page_level_2)&&!(null==e?void 0:e.page_level_3)&&!(null==e?void 0:e.page_level_4)&&!(null==e?void 0:e.page_level_5)&&!(null==e?void 0:e.page_level_6)&&i&&""!==i)
return i;})(i,n));}
function d(e){var i=e.getTimezoneOffset()/60;return(i>0?"-":"+")+i.toFixed(0).toString();}
function u(){return Math.random().toString(36).substring(3,10)+Math.random().toString(36).substring(3,10);}
function p(){var e=0;return navigator.globalPrivacyControl&&(e=1),e;}
(i.getCoreDataObject=function(e,i){var t=Date.now(),g=window.location.pathname.split("/"),f=g[1]?g[1]:void 0;return{adobe_visitor_id:r(o.Cookie.S_ECID),app_id:a(),authorization_stamp:n.AUTHORIZATION_STAMP,customer_reference_id:r(o.Cookie.C1_CRID),onetag_event_id:u(),event_type:e,ga_client_id:s(),keymaster_id:l(e),keymaster_info:_(e),page_level_1:c(e,i,null==i?void 0:i.page_level_1,f),page_level_2:c(e,i,null==i?void 0:i.page_level_2,g[2]),page_level_3:c(e,i,null==i?void 0:i.page_level_3,g[3]),page_level_4:c(e,i,null==i?void 0:i.page_level_4,g[4]),page_level_5:c(e,i,null==i?void 0:i.page_level_5,g[5]),page_level_6:c(e,i,null==i?void 0:i.page_level_6,g[6]),page_referrer:(null==i?void 0:i.page_referrer)||document.referrer,page_title:(null==i?void 0:i.page_title)||document.title,page_url:(null==i?void 0:i.page_url)||window.location.href,profile_reference_id:r(o.Cookie.C1_PRID),domain_user_device_id:r(o.Cookie.UDID),timestamp:new Date().toISOString(),user_agent_string:navigator.userAgent,user_timezone_offset:d(new Date(t)),global_privacy_control:p(),document_page_title:document.title,};}),(i.getAppId=a),(i.getAccountStatus=function(e){var i;if(window.localStorage.kmInfo){var t=JSON.parse(window.localStorage.kmInfo);i=e?e.concat(":",t.info.join("_")):t.info.join("_");}
return i;}),(i.getCookie=r),(i.getKeyMasterId=l),(i.getKeyMasterInfo=_),(i.getTimezoneOffset=d),(i.generateHash=u),(i.getGlobalPrivacyControlValue=p);},33:(e,i,t)=>{Object.defineProperty(i,"__esModule",{value:!0}),(i.isOneTagDebugEnabled=i.removeUndefinedAndNullKeys=i.isString=i.isObject=i.isNumber=i.isBoolean=i.isArray=i.is=i.deepCopy=void 0);var n=t(185);(i.deepCopy=function(e){return null==e||"object"!=typeof e?e:JSON.parse(JSON.stringify(e));}),(i.is=function(e,i){var t=Object.prototype.toString.call(i).slice(8,-1);return null!=i&&t===e;}),(i.isArray=i.is.bind(null,"Array")),(i.isBoolean=i.is.bind(null,"Boolean")),(i.isNumber=i.is.bind(null,"Number")),(i.isObject=i.is.bind(null,"Object")),(i.isString=i.is.bind(null,"String")),(i.removeUndefinedAndNullKeys=function(e){return(Object.keys(e).forEach(function(i){return(void 0===e[i]||null===e[i])&&delete e[i];}),e);}),(i.isOneTagDebugEnabled=function(){return"true"===n.getCookie("onetagdb");});},},i={};function t(n){var o=i[n];if(void 0!==o)return o.exports;var a=(i[n]={exports:{}});return e[n](a,a.exports,t),a.exports;}
(()=>{var e=t(741);function i(i){var t=e.scrub(i,[]);for(var n in i)i[n]=t[n];}
"undefined"!=typeof b&&i(b);})();})();}}catch(e){utag.DB(e)}}];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f,i;u.data={};for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.data[e[f]]=b[d];}}}
}};utag.o[loader].loader.LOAD(id);})("288","capitalone.others");}catch(error){utag.DB(error);}
